{
    "collab_server" : "",
    "contents" : "# read data ---------------------------------------------------------------\n\n#wc -l GTEx_droncseq_hip_pcf.umi_counts.txt\n# 32112 genes \n# systems (\"head -n1 GTEx_droncseq_hip_pcf.umi_counts.txt | awk  '{print NF; exit}' \") \n# 14693 nucs \n\n# wc -l GTEx_droncseq_hip_pcf.clusters.txt \n# 14963 \n\n# https://pubpeer.com/publications/E38493AECAF3189FC0708887F9EC39\n\n\nrequire(Seurat)\n\n# create obj --------------------------------------------------------------\nfile =\"./data/GTEx_droncseq_hip_pcf.umi_counts.txt\"\nname =\"hip_pcf\"\nrequire(data.table)\ntissue.data[1:10,1:10]\n\nprocess_umi<-function(file,name,min.cell=10,min.genes=200,...){\n  tissue.data <- fread(file);  setDF(tissue.data,rownames = tissue.data$V1);  tissue.data$V1 <- NULL\n  tissue <- CreateSeuratObject(raw.data = tissue.data,project=name, normalization.method = \"LogNormalize\",do.scale=TRUE,...)\n  mito.genes <- grep(\"^mt-\", rownames(tissue@data), value = T)\n  percent.mito <- colSums(as.array(expm1(tissue@data[mito.genes, ]))) / colSums(as.array(expm1(tissue@data)))\n  tissue <- AddMetaData(tissue, percent.mito, \"percent.mito\")\n  VlnPlot(tissue, c(\"nGene\", \"nUMI\", \"percent.mito\"), nCol = 3)\n  GenePlot(tissue, \"nUMI\", \"nGene\")\n  return (tissue)\n}\n\ntissue <- process_umi(file,name)\n# find variable genes  ----------------------------------------------------\ntissue <- FindVariableGenes(tissue,do.plot = T)\n\nlength(tissue@var.genes) # 1249 genes \n\n\n",
    "created" : 1509660303260.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "2261876837",
    "id" : "4FF85A96",
    "lastKnownWriteTime" : 1509738806,
    "last_content_update" : 1509738806365,
    "path" : "~/Dropbox/Projects/UCSD_2017/snRNA-seq/Habib2017/preprocess.R",
    "project_path" : "preprocess.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 1,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}